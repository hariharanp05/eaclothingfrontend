{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/EATEK/Projects/dress-ecom/DressEcom/EcommerceShop/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\r\n\r\nimport { cn } from '@/lib/utils'\r\n\r\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn('leading-none font-semibold', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn('text-muted-foreground text-sm', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\r\n        className,\r\n      )}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-content\"\r\n      className={cn('px-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,6WAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf","debugId":null}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///D:/EATEK/Projects/dress-ecom/DressEcom/EcommerceShop/lib/api.ts"],"sourcesContent":["// src/lib/api.ts\r\n\r\nexport const API_BASE =\r\n  process.env.NEXT_PUBLIC_API_BASE || \"http://localhost/ecomdressapi\";\r\n\r\n// -----------------------\r\n// GET ALL PRODUCTS  (now supports optional collection)\r\n// -----------------------\r\nexport async function fetchProducts(collection?: string) {\r\n  try {\r\n    const query =\r\n      collection && collection !== \"all\"\r\n        ? `?collection=${encodeURIComponent(collection)}`\r\n        : \"\";\r\n\r\n    const response = await fetch(`${API_BASE}/get_products.php${query}`, {\r\n      method: \"GET\",\r\n      cache: \"no-store\", // always get fresh data\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\"Failed to fetch products\");\r\n    }\r\n\r\n    return response.json();\r\n  } catch (error) {\r\n    console.error(\"fetchProducts Error:\", error);\r\n    return [];\r\n  }\r\n}\r\n\r\n// -----------------------\r\n// GET SINGLE PRODUCT\r\n// -----------------------\r\nexport async function fetchProduct(id: string | number) {\r\n  try {\r\n    const response = await fetch(`${API_BASE}/get_product.php?id=${id}`, {\r\n      method: \"GET\",\r\n      cache: \"no-store\",\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\"Failed to fetch product\");\r\n    }\r\n\r\n    return response.json();\r\n  } catch (error) {\r\n    console.error(\"fetchProduct Error:\", error);\r\n    return null;\r\n  }\r\n}\r\n\r\n// -----------------------\r\n// ADD TO CART (future example)\r\n// -----------------------\r\n// export async function addToCart(data: any) {\r\n//   try {\r\n//     const response = await fetch(`${API_BASE}/add_to_cart.php`, {\r\n//       method: \"POST\",\r\n//       headers: { \"Content-Type\": \"application/json\" },\r\n//       body: JSON.stringify(data),\r\n//     });\r\n\r\n//     return response.json();\r\n//   } catch (error) {\r\n//     console.error(\"addToCart Error:\", error);\r\n//     return null;\r\n//   }\r\n// }\r\n\r\nexport async function placeOrder(payload: any) {\r\n  const response = await fetch(`${API_BASE}/place_order.php`, {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    body: JSON.stringify(payload),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    throw new Error(\"Failed to place order\");\r\n  }\r\n\r\n  return response.json();\r\n}\r\n\r\n\r\nexport async function fetchCollections() {\r\n  try {\r\n    const response = await fetch(`${API_BASE}/get_collections.php`, {\r\n      method: \"GET\",\r\n      cache: \"no-store\",\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\"Failed to fetch collections\");\r\n    }\r\n\r\n    return response.json();\r\n  } catch (error) {\r\n    console.error(\"fetchCollections Error:\", error);\r\n    return [];\r\n  }\r\n}\r\n\r\n\r\nexport async function fetchOrders() {\r\n  const res = await fetch(`${API_BASE}/admin_get_orders.php`, {\r\n    cache: \"no-store\",\r\n  });\r\n  if (!res.ok) throw new Error(\"Failed to fetch orders\");\r\n  return res.json();\r\n}\r\n\r\nexport async function updateOrderStatus(id: number, order_status: string) {\r\n  const formData = new FormData();\r\n  formData.append(\"id\", String(id));\r\n  formData.append(\"order_status\", order_status);\r\n\r\n  const res = await fetch(`${API_BASE}/admin_update_order_status.php`, {\r\n    method: \"POST\",\r\n    body: formData,\r\n  });\r\n\r\n  return res.json();\r\n}\r\n"],"names":[],"mappings":"AAAA,iBAAiB;;;;;;;;;;;;;;;;;AAEV,MAAM,WACX,QAAQ,GAAG,CAAC,oBAAoB,IAAI;AAK/B,eAAe,cAAc,UAAmB;IACrD,IAAI;QACF,MAAM,QACJ,cAAc,eAAe,QACzB,CAAC,YAAY,EAAE,mBAAmB,aAAa,GAC/C;QAEN,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,iBAAiB,EAAE,OAAO,EAAE;YACnE,QAAQ;YACR,OAAO;QACT;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM;QAClB;QAEA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,EAAE;IACX;AACF;AAKO,eAAe,aAAa,EAAmB;IACpD,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,oBAAoB,EAAE,IAAI,EAAE;YACnE,QAAQ;YACR,OAAO;QACT;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM;QAClB;QAEA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO;IACT;AACF;AAoBO,eAAe,WAAW,OAAY;IAC3C,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,gBAAgB,CAAC,EAAE;QAC1D,QAAQ;QACR,SAAS;YAAE,gBAAgB;QAAmB;QAC9C,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QAChB,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO,SAAS,IAAI;AACtB;AAGO,eAAe;IACpB,IAAI;QACF,MAAM,WAAW,MAAM,MAAM,GAAG,SAAS,oBAAoB,CAAC,EAAE;YAC9D,QAAQ;YACR,OAAO;QACT;QAEA,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,IAAI,MAAM;QAClB;QAEA,OAAO,SAAS,IAAI;IACtB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,EAAE;IACX;AACF;AAGO,eAAe;IACpB,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,qBAAqB,CAAC,EAAE;QAC1D,OAAO;IACT;IACA,IAAI,CAAC,IAAI,EAAE,EAAE,MAAM,IAAI,MAAM;IAC7B,OAAO,IAAI,IAAI;AACjB;AAEO,eAAe,kBAAkB,EAAU,EAAE,YAAoB;IACtE,MAAM,WAAW,IAAI;IACrB,SAAS,MAAM,CAAC,MAAM,OAAO;IAC7B,SAAS,MAAM,CAAC,gBAAgB;IAEhC,MAAM,MAAM,MAAM,MAAM,GAAG,SAAS,8BAA8B,CAAC,EAAE;QACnE,QAAQ;QACR,MAAM;IACR;IAEA,OAAO,IAAI,IAAI;AACjB","debugId":null}},
    {"offset": {"line": 204, "column": 0}, "map": {"version":3,"sources":["file:///D:/EATEK/Projects/dress-ecom/DressEcom/EcommerceShop/app/adminea/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport {\r\n  useState,\r\n  useEffect,\r\n  useMemo,\r\n  ChangeEvent,\r\n  FormEvent,\r\n} from \"react\";\r\nimport { Card } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  BarChart3,\r\n  Users,\r\n  ShoppingBag,\r\n  TrendingUp,\r\n  Plus,\r\n  Edit2,\r\n  Trash2,\r\n} from \"lucide-react\";\r\nimport {\r\n  fetchProducts,\r\n  API_BASE,\r\n  fetchCollections,\r\n  fetchOrders,\r\n  updateOrderStatus,\r\n} from \"@/lib/api\";\r\n\r\n// Match your DB structure\r\ntype Product = {\r\n  id: number;\r\n  name: string;\r\n  price: number;\r\n  original_price?: number | null;\r\n  image?: string | null;\r\n  category?: string | null;\r\n  collection_id?: number | null;\r\n  rating?: number | null;\r\n  reviews?: number | null;\r\n  sizes?: any;\r\n  colors?: any;\r\n  description?: string | null;\r\n  inStock?: any;\r\n};\r\n\r\ntype Collection = {\r\n  id: number;\r\n  name: string;\r\n  slug?: string;\r\n};\r\n\r\ntype OrderItem = {\r\n  id: number;\r\n  order_id: number;\r\n  product_id: number;\r\n  product_name: string;\r\n  size: string;\r\n  color: string;\r\n  quantity: number;\r\n  price: string;\r\n  subtotal: string;\r\n};\r\n\r\ntype OrderStatus = \"pending\" | \"processing\" | \"delivered\" | \"cancelled\";\r\n\r\ntype Order = {\r\n  id: number;\r\n  customer_name: string;\r\n  email: string;\r\n  phone: string;\r\n  address: string;\r\n  city: string;\r\n  state: string;\r\n  pincode: string;\r\n  subtotal: string;\r\n  shipping_cost: string;\r\n  tax: string;\r\n  final_total: number | string;\r\n  payment_method: string;\r\n  payment_status: string;\r\n  order_status: OrderStatus;\r\n  razorpay_order_id?: string | null;\r\n  razorpay_payment_id?: string | null;\r\n  created_at: string; // timestamp\r\n  items?: OrderItem[];\r\n};\r\n\r\ntype CustomerSummary = {\r\n  key: string;\r\n  name: string;\r\n  email: string;\r\n  phone: string;\r\n  orderIds: number[];\r\n  ordersCount: number;\r\n  totalSpent: number;\r\n  firstOrderDate: string;\r\n};\r\n\r\nexport default function AdminPage() {\r\n  const [activeTab, setActiveTab] =\r\n    useState<\"overview\" | \"products\" | \"orders\" | \"customers\">(\"overview\");\r\n  const [showProductForm, setShowProductForm] = useState(false);\r\n  const [products, setProducts] = useState<Product[]>([]);\r\n  const [collections, setCollections] = useState<Collection[]>([]);\r\n\r\n  // Orders\r\n  const [orders, setOrders] = useState<Order[]>([]);\r\n  const [updatingOrderId, setUpdatingOrderId] = useState<number | null>(null);\r\n\r\n  // Add / Edit product form state\r\n  const [productForm, setProductForm] = useState({\r\n    name: \"\",\r\n    price: \"\",\r\n    original_price: \"\",\r\n    category: \"\",\r\n    collection_id: \"\",\r\n    sizes: \"\",\r\n    colors: \"\",\r\n    description: \"\",\r\n    inStock: true,\r\n  });\r\n\r\n  // separate main + gallery images\r\n  const [mainImage, setMainImage] = useState<File | null>(null);\r\n  const [galleryImages, setGalleryImages] = useState<FileList | null>(null);\r\n\r\n  const [saving, setSaving] = useState(false);\r\n  const [formMessage, setFormMessage] = useState<string | null>(null);\r\n\r\n  // track if editing\r\n  const [editingProductId, setEditingProductId] = useState<number | null>(null);\r\n\r\n  // delete state\r\n  const [deletingId, setDeletingId] = useState<number | null>(null);\r\n\r\n  // Customer filters\r\n  const [customerSearch, setCustomerSearch] = useState(\"\");\r\n  const [minOrders, setMinOrders] = useState<number>(0);\r\n\r\n  useEffect(() => {\r\n    // products\r\n    fetchProducts().then((data) => {\r\n      if (Array.isArray((data as any).products)) {\r\n        setProducts((data as any).products as Product[]);\r\n      } else if (Array.isArray(data)) {\r\n        setProducts(data as Product[]);\r\n      } else {\r\n        console.error(\"Unexpected API response:\", data);\r\n      }\r\n    });\r\n\r\n    // collections for dropdown\r\n    fetchCollections().then((cols) => {\r\n      if (Array.isArray(cols)) {\r\n        setCollections(cols as Collection[]);\r\n      }\r\n    });\r\n\r\n    // orders\r\n    fetchOrders()\r\n      .then((data) => {\r\n        if (Array.isArray((data as any).orders)) {\r\n          setOrders((data as any).orders as Order[]);\r\n        } else if (Array.isArray(data)) {\r\n          setOrders(data as Order[]);\r\n        } else {\r\n          console.error(\"Unexpected orders API response:\", data);\r\n        }\r\n      })\r\n      .catch((err) => console.error(\"Orders fetch error:\", err));\r\n  }, []);\r\n\r\n  const formatValue = (value: any) => {\r\n    if (!value) return \"-\";\r\n    if (Array.isArray(value)) return value.join(\", \");\r\n    if (typeof value === \"string\") return value.split(\",\").join(\", \");\r\n    return \"-\";\r\n  };\r\n\r\n  const getCollectionName = (id?: number | null) => {\r\n    if (!id) return \"-\";\r\n    const col = collections.find((c) => c.id === Number(id));\r\n    return col?.name || String(id);\r\n  };\r\n\r\n  const getStatusBadgeClass = (status: string) => {\r\n    switch (status) {\r\n      case \"delivered\":\r\n        return \"bg-green-100 text-green-800\";\r\n      case \"processing\":\r\n        return \"bg-yellow-100 text-yellow-800\";\r\n      case \"cancelled\":\r\n        return \"bg-red-100 text-red-800\";\r\n      default:\r\n        return \"bg-gray-100 text-gray-800\";\r\n    }\r\n  };\r\n\r\n  // -------- Customer summaries (from orders) ----------\r\n  const customerSummaries: CustomerSummary[] = useMemo(() => {\r\n    const map = new Map<string, CustomerSummary>();\r\n\r\n    for (const order of orders) {\r\n      const key = `${order.email}__${order.phone}`;\r\n      const existing = map.get(key);\r\n\r\n      const finalTotal = Number(order.final_total || 0);\r\n      const orderDate = order.created_at ? new Date(order.created_at) : null;\r\n\r\n      if (!existing) {\r\n        map.set(key, {\r\n          key,\r\n          name: order.customer_name,\r\n          email: order.email,\r\n          phone: order.phone,\r\n          orderIds: [order.id],\r\n          ordersCount: 1,\r\n          totalSpent: finalTotal,\r\n          firstOrderDate: orderDate ? orderDate.toISOString() : \"\",\r\n        });\r\n      } else {\r\n        existing.orderIds.push(order.id);\r\n        existing.ordersCount += 1;\r\n        existing.totalSpent += finalTotal;\r\n\r\n        if (orderDate) {\r\n          const prev = existing.firstOrderDate\r\n            ? new Date(existing.firstOrderDate)\r\n            : null;\r\n          if (!prev || orderDate < prev) {\r\n            existing.firstOrderDate = orderDate.toISOString();\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return Array.from(map.values()).sort((a, b) =>\r\n      a.name.localeCompare(b.name)\r\n    );\r\n  }, [orders]);\r\n\r\n  // -------- Customers filters ----------\r\n  const filteredCustomers = useMemo(() => {\r\n    const search = customerSearch.trim().toLowerCase();\r\n\r\n    return customerSummaries.filter((c) => {\r\n      if (minOrders > 0 && c.ordersCount < minOrders) return false;\r\n\r\n      if (!search) return true;\r\n\r\n      return (\r\n        c.name.toLowerCase().includes(search) ||\r\n        c.email.toLowerCase().includes(search) ||\r\n        c.phone.toLowerCase().includes(search)\r\n      );\r\n    });\r\n  }, [customerSummaries, customerSearch, minOrders]);\r\n\r\n  // -------- Real-time dashboard stats ----------\r\n  const dashboardStats = useMemo(() => {\r\n    const totalOrders = orders.length;\r\n\r\n    // revenue only from delivered / paid orders\r\n    const revenueOrders = orders.filter(\r\n      (o) => o.order_status === \"delivered\" || o.payment_status === \"paid\"\r\n    );\r\n\r\n    const totalRevenue = revenueOrders.reduce((sum, o) => {\r\n      return sum + Number(o.final_total || 0);\r\n    }, 0);\r\n\r\n    const totalCustomers = customerSummaries.length;\r\n\r\n    const deliveredOrders = orders.filter(\r\n      (o) => o.order_status === \"delivered\"\r\n    ).length;\r\n\r\n    const conversionRate =\r\n      totalOrders > 0 ? (deliveredOrders / totalOrders) * 100 : 0;\r\n\r\n    return [\r\n      {\r\n        label: \"Total Revenue\",\r\n        value: `₹${totalRevenue.toLocaleString(\"en-IN\")}`,\r\n        sub: \"Delivered / Paid orders\",\r\n        icon: TrendingUp,\r\n      },\r\n      {\r\n        label: \"Total Orders\",\r\n        value: totalOrders.toString(),\r\n        sub: `${deliveredOrders} delivered`,\r\n        icon: ShoppingBag,\r\n      },\r\n      {\r\n        label: \"Total Customers\",\r\n        value: totalCustomers.toString(),\r\n        sub: \"Unique by email + phone\",\r\n        icon: Users,\r\n      },\r\n      {\r\n        label: \"Conversion Rate\",\r\n        value: `${conversionRate.toFixed(1)}%`,\r\n        sub: \"Delivered / All orders\",\r\n        icon: BarChart3,\r\n      },\r\n    ];\r\n  }, [orders, customerSummaries]);\r\n\r\n  // text / textarea / checkbox / select change\r\n  const handleInputChange = (\r\n    e: ChangeEvent<\r\n      HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\r\n    >\r\n  ) => {\r\n    const target = e.target as HTMLInputElement;\r\n    const { name, value, type } = target;\r\n    const checked = target.checked;\r\n\r\n    setProductForm((prev) => ({\r\n      ...prev,\r\n      [name]: type === \"checkbox\" ? checked : value,\r\n    }));\r\n  };\r\n\r\n  // MAIN image change\r\n  const handleMainImageChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0] || null;\r\n    setMainImage(file);\r\n  };\r\n\r\n  // GALLERY images change (multiple)\r\n  const handleGalleryImagesChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n    setGalleryImages(e.target.files);\r\n  };\r\n\r\n  // Click EDIT → fill form\r\n  const handleEditProduct = (product: Product) => {\r\n    setProductForm({\r\n      name: product.name || \"\",\r\n      price: product.price != null ? String(product.price) : \"\",\r\n      original_price:\r\n        product.original_price != null ? String(product.original_price) : \"\",\r\n      category: product.category || \"\",\r\n      collection_id:\r\n        product.collection_id != null ? String(product.collection_id) : \"\",\r\n      sizes: Array.isArray(product.sizes)\r\n        ? product.sizes.join(\",\")\r\n        : product.sizes || \"\",\r\n      colors: Array.isArray(product.colors)\r\n        ? product.colors.join(\",\")\r\n        : product.colors || \"\",\r\n      description: product.description || \"\",\r\n      inStock: Number(product.inStock) === 1,\r\n    });\r\n\r\n    setMainImage(null);\r\n    setGalleryImages(null);\r\n    setFormMessage(null);\r\n    setEditingProductId(product.id);\r\n    setShowProductForm(true);\r\n  };\r\n\r\n  // submit add / edit product form\r\n  const handleProductSubmit = async (e: FormEvent) => {\r\n    e.preventDefault();\r\n    setFormMessage(null);\r\n\r\n    if (!productForm.name || !productForm.price) {\r\n      setFormMessage(\"Name and price are required.\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setSaving(true);\r\n\r\n      const formData = new FormData();\r\n      formData.append(\"name\", productForm.name);\r\n      formData.append(\"price\", productForm.price);\r\n      formData.append(\"original_price\", productForm.original_price);\r\n      formData.append(\"category\", productForm.category);\r\n      formData.append(\"collection_id\", productForm.collection_id);\r\n      formData.append(\"sizes\", productForm.sizes);\r\n      formData.append(\"colors\", productForm.colors);\r\n      formData.append(\"description\", productForm.description);\r\n      formData.append(\"inStock\", productForm.inStock ? \"1\" : \"0\");\r\n\r\n      // if editing, send id\r\n      if (editingProductId !== null) {\r\n        formData.append(\"id\", String(editingProductId));\r\n      }\r\n\r\n      // send main_image (optional)\r\n      if (mainImage) {\r\n        formData.append(\"main_image\", mainImage);\r\n      }\r\n\r\n      // send gallery_images[] (optional)\r\n      if (galleryImages && galleryImages.length > 0) {\r\n        Array.from(galleryImages).forEach((file) => {\r\n          formData.append(\"gallery_images[]\", file);\r\n        });\r\n      }\r\n\r\n      // choose endpoint\r\n      const endpoint =\r\n        editingProductId !== null\r\n          ? `${API_BASE}/admin_update_product.php`\r\n          : `${API_BASE}/admin_add_product.php`;\r\n\r\n      const res = await fetch(endpoint, {\r\n        method: \"POST\",\r\n        body: formData,\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (data.status === \"success\") {\r\n        setFormMessage(\r\n          editingProductId\r\n            ? \"✅ Product updated successfully.\"\r\n            : \"✅ Product added successfully.\"\r\n        );\r\n\r\n        // reset form\r\n        setProductForm({\r\n          name: \"\",\r\n          price: \"\",\r\n          original_price: \"\",\r\n          category: \"\",\r\n          collection_id: \"\",\r\n          sizes: \"\",\r\n          colors: \"\",\r\n          description: \"\",\r\n          inStock: true,\r\n        });\r\n        setMainImage(null);\r\n        setGalleryImages(null);\r\n        setShowProductForm(false);\r\n        setEditingProductId(null);\r\n\r\n        // refresh products list\r\n        fetchProducts().then((data) => {\r\n          if (Array.isArray((data as any).products)) {\r\n            setProducts((data as any).products as Product[]);\r\n          } else if (Array.isArray(data)) {\r\n            setProducts(data as Product[]);\r\n          }\r\n        });\r\n      } else {\r\n        setFormMessage(data.message || \"❌ Failed to save product.\");\r\n      }\r\n    } catch (err) {\r\n      console.error(err);\r\n      setFormMessage(\"❌ Error while saving product.\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  // DELETE product\r\n  const handleDeleteProduct = async (id: number) => {\r\n    if (!confirm(\"Are you sure you want to delete this product?\")) return;\r\n\r\n    try {\r\n      setDeletingId(id);\r\n\r\n      const formData = new FormData();\r\n      formData.append(\"id\", String(id));\r\n\r\n      const res = await fetch(`${API_BASE}/admin_delete_product.php`, {\r\n        method: \"POST\",\r\n        body: formData,\r\n      });\r\n\r\n      const data = await res.json();\r\n\r\n      if (data.status === \"success\") {\r\n        setProducts((prev) => prev.filter((p) => p.id !== id));\r\n      } else {\r\n        alert(data.message || \"Failed to delete product\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Delete error:\", error);\r\n      alert(\"Error deleting product\");\r\n    } finally {\r\n      setDeletingId(null);\r\n    }\r\n  };\r\n\r\n  // change order status\r\n  const handleOrderStatusChange = async (\r\n    orderId: number,\r\n    newStatus: OrderStatus\r\n  ) => {\r\n    try {\r\n      setUpdatingOrderId(orderId);\r\n      const res = await updateOrderStatus(orderId, newStatus);\r\n      if (res.status === \"success\") {\r\n        setOrders((prev) =>\r\n          prev.map((o) =>\r\n            o.id === orderId ? { ...o, order_status: newStatus } : o\r\n          )\r\n        );\r\n      } else {\r\n        alert(res.message || \"Failed to update status\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Order status update error:\", err);\r\n      alert(\"Error updating order status\");\r\n    } finally {\r\n      setUpdatingOrderId(null);\r\n    }\r\n  };\r\n\r\n  // Download customers as CSV (Excel-friendly)\r\n  const handleDownloadCustomers = () => {\r\n    if (filteredCustomers.length === 0) {\r\n      alert(\"No customers to download.\");\r\n      return;\r\n    }\r\n\r\n    const header = [\r\n      \"Name\",\r\n      \"Email\",\r\n      \"Phone\",\r\n      \"Order IDs\",\r\n      \"No. of Orders\",\r\n      \"Total Spent\",\r\n      \"First Order Date\",\r\n    ];\r\n\r\n    const rows = filteredCustomers.map((c) => [\r\n      c.name,\r\n      c.email,\r\n      c.phone,\r\n      c.orderIds.map((id) => `#${id}`).join(\" | \"),\r\n      String(c.ordersCount),\r\n      c.totalSpent.toString(),\r\n      c.firstOrderDate\r\n        ? new Date(c.firstOrderDate).toLocaleString()\r\n        : \"\",\r\n    ]);\r\n\r\n    const csv = [header, ...rows]\r\n      .map((row) =>\r\n        row\r\n          .map((val) => {\r\n            const safe = (val ?? \"\").toString().replace(/\"/g, '\"\"');\r\n            return `\"${safe}\"`;\r\n          })\r\n          .join(\",\")\r\n      )\r\n      .join(\"\\r\\n\");\r\n\r\n    const blob = new Blob([csv], { type: \"text/csv;charset=utf-8;\" });\r\n    const url = URL.createObjectURL(blob);\r\n\r\n    const link = document.createElement(\"a\");\r\n    link.href = url;\r\n    link.download = \"customers.csv\";\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-secondary\">\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Header */}\r\n        <div className=\"mb-8\">\r\n          <h1 className=\"text-4xl font-bold mb-2\">Admin Dashboard</h1>\r\n          <p className=\"text-muted-foreground\">\r\n            Manage your store and view analytics\r\n          </p>\r\n        </div>\r\n\r\n        {/* Navigation Tabs */}\r\n        <div className=\"flex gap-4 mb-8 border-b border-border overflow-x-auto pb-4\">\r\n          {([\"overview\", \"products\", \"orders\", \"customers\"] as const).map(\r\n            (tab) => (\r\n              <button\r\n                key={tab}\r\n                onClick={() => setActiveTab(tab)}\r\n                className={`px-4 py-2 font-medium text-sm whitespace-nowrap transition-colors ${\r\n                  activeTab === tab\r\n                    ? \"text-accent border-b-2 border-accent\"\r\n                    : \"text-muted-foreground hover:text-foreground\"\r\n                }`}\r\n              >\r\n                {tab.charAt(0).toUpperCase() + tab.slice(1)}\r\n              </button>\r\n            )\r\n          )}\r\n        </div>\r\n\r\n        {/* Overview Tab */}\r\n        {activeTab === \"overview\" && (\r\n          <div className=\"space-y-8\">\r\n            {/* Stats Grid – REAL TIME */}\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n              {dashboardStats.map((stat, idx) => {\r\n                const IconComponent = stat.icon;\r\n                return (\r\n                  <Card key={idx} className=\"p-6\">\r\n                    <div className=\"flex items-start justify-between\">\r\n                      <div>\r\n                        <p className=\"text-muted-foreground text-sm font-medium mb-1\">\r\n                          {stat.label}\r\n                        </p>\r\n                        <p className=\"text-3xl font-bold mb-1\">\r\n                          {stat.value}\r\n                        </p>\r\n                        {stat.sub && (\r\n                          <p className=\"text-xs text-muted-foreground\">\r\n                            {stat.sub}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"p-3 bg-accent/10 rounded-lg\">\r\n                        <IconComponent className=\"h-6 w-6 text-accent\" />\r\n                      </div>\r\n                    </div>\r\n                  </Card>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Products Tab */}\r\n        {activeTab === \"products\" && (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <h2 className=\"text-2xl font-bold\">\r\n                {editingProductId ? \"Edit Product\" : \"Manage Products\"}\r\n              </h2>\r\n              <Button\r\n                onClick={() => {\r\n                  // open in \"add\" mode\r\n                  setProductForm({\r\n                    name: \"\",\r\n                    price: \"\",\r\n                    original_price: \"\",\r\n                    category: \"\",\r\n                    collection_id: \"\",\r\n                    sizes: \"\",\r\n                    colors: \"\",\r\n                    description: \"\",\r\n                    inStock: true,\r\n                  });\r\n                  setMainImage(null);\r\n                  setGalleryImages(null);\r\n                  setEditingProductId(null);\r\n                  setShowProductForm(!showProductForm);\r\n                }}\r\n                className=\"bg-accent text-accent-foreground hover:bg-accent/90 gap-2\"\r\n              >\r\n                <Plus className=\"h-4 w-4\" />\r\n                {editingProductId ? \"New Product\" : \"Add Product\"}\r\n              </Button>\r\n            </div>\r\n\r\n            {showProductForm && (\r\n              <Card className=\"p-6 bg-background\">\r\n                <h3 className=\"text-lg font-bold mb-4\">\r\n                  {editingProductId ? \"Edit Product\" : \"Add New Product\"}\r\n                </h3>\r\n                <form\r\n                  className=\"space-y-4\"\r\n                  onSubmit={handleProductSubmit}\r\n                  encType=\"multipart/form-data\"\r\n                >\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      placeholder=\"Product Name\"\r\n                      className=\"px-4 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-accent\"\r\n                      value={productForm.name}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    />\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"price\"\r\n                      placeholder=\"Offered Price\"\r\n                      className=\"px-4 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-accent\"\r\n                      value={productForm.price}\r\n                      onChange={handleInputChange}\r\n                      required\r\n                    />\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"original_price\"\r\n                      placeholder=\"Original Price (MRP)\"\r\n                      className=\"px-4 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-accent\"\r\n                      value={productForm.original_price}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"category\"\r\n                      placeholder=\"Category (e.g. Tops)\"\r\n                      className=\"px-4 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-accent\"\r\n                      value={productForm.category}\r\n                      onChange={handleInputChange}\r\n                    />\r\n\r\n                    {/* Collection dropdown */}\r\n                    <select\r\n                      name=\"collection_id\"\r\n                      className=\"px-4 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-accent\"\r\n                      value={productForm.collection_id}\r\n                      onChange={handleInputChange}\r\n                    >\r\n                      <option value=\"\">Select Collection</option>\r\n                      {collections.map((col) => (\r\n                        <option key={col.id} value={col.id}>\r\n                          {col.name}\r\n                        </option>\r\n                      ))}\r\n                    </select>\r\n\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"sizes\"\r\n                      placeholder=\"Sizes (e.g. XS,S,M,L,XL)\"\r\n                      className=\"px-4 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-accent\"\r\n                      value={productForm.sizes}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"colors\"\r\n                      placeholder=\"Colors (e.g. Black,White,Blue)\"\r\n                      className=\"px-4 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-accent\"\r\n                      value={productForm.colors}\r\n                      onChange={handleInputChange}\r\n                    />\r\n                    <label className=\"flex items-center gap-2 text-sm\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        name=\"inStock\"\r\n                        checked={productForm.inStock}\r\n                        onChange={handleInputChange}\r\n                      />\r\n                      In Stock\r\n                    </label>\r\n                  </div>\r\n\r\n                  <textarea\r\n                    name=\"description\"\r\n                    placeholder=\"Description\"\r\n                    rows={3}\r\n                    className=\"w-full px-4 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-accent\"\r\n                    value={productForm.description}\r\n                    onChange={handleInputChange}\r\n                  />\r\n\r\n                  {/* MAIN image input */}\r\n                  <div className=\"space-y-2\">\r\n                    <label className=\"text-sm font-semibold\">\r\n                      Main Image (thumbnail)\r\n                    </label>\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      onChange={handleMainImageChange}\r\n                      className=\"w-full px-4 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-accent\"\r\n                    />\r\n                    {editingProductId && (\r\n                      <p className=\"text-xs text-muted-foreground\">\r\n                        Leave empty to keep existing main image.\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* GALLERY images input */}\r\n                  <div className=\"space-y-2\">\r\n                    <label className=\"text-sm font-semibold\">\r\n                      Other Images (gallery)\r\n                    </label>\r\n                    <input\r\n                      type=\"file\"\r\n                      multiple\r\n                      accept=\"image/*\"\r\n                      onChange={handleGalleryImagesChange}\r\n                      className=\"w-full px-4 py-2 border border-border rounded-md bg-background text-foreground focus:outline-none focus:ring-2 focus:ring-accent\"\r\n                    />\r\n                    {editingProductId && (\r\n                      <p className=\"text-xs text-muted-foreground\">\r\n                        If you upload new gallery images, old ones will be\r\n                        replaced.\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n\r\n                  {formMessage && (\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      {formMessage}\r\n                    </p>\r\n                  )}\r\n\r\n                  <div className=\"flex gap-4\">\r\n                    <Button\r\n                      type=\"submit\"\r\n                      className=\"bg-accent text-accent-foreground hover:bg-accent/90\"\r\n                      disabled={saving}\r\n                    >\r\n                      {saving\r\n                        ? editingProductId\r\n                          ? \"Updating...\"\r\n                          : \"Saving...\"\r\n                        : editingProductId\r\n                        ? \"Update Product\"\r\n                        : \"Save Product\"}\r\n                    </Button>\r\n                    <Button\r\n                      type=\"button\"\r\n                      variant=\"outline\"\r\n                      onClick={() => {\r\n                        setShowProductForm(false);\r\n                        setEditingProductId(null);\r\n                      }}\r\n                    >\r\n                      Cancel\r\n                    </Button>\r\n                  </div>\r\n                </form>\r\n              </Card>\r\n            )}\r\n\r\n            {/* Products Table */}\r\n            <Card className=\"p-6\">\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"w-full text-sm\">\r\n                  <thead className=\"border-b border-border\">\r\n                    <tr>\r\n                      <th className=\"text-left py-3 font-semibold\">Name</th>\r\n                      <th className=\"text-left py-3 font-semibold\">Image</th>\r\n                      <th className=\"text-left py-3 font-semibold\">\r\n                        Category\r\n                      </th>\r\n                      <th className=\"text-left py-3 font-semibold\">Price</th>\r\n                      <th className=\"text-left py-3 font-semibold\">Stock</th>\r\n                      <th className=\"text-left py-3 font-semibold\">\r\n                        Actions\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {products.map((product) => {\r\n                      const isInStock = Number(product.inStock) === 1;\r\n\r\n                      return (\r\n                        <tr\r\n                          key={product.id}\r\n                          className=\"border-b border-border hover:bg-background/50 transition-colors\"\r\n                        >\r\n                          {/* Name + Collection */}\r\n                          <td className=\"py-3 font-semibold\">\r\n                            {product.name}\r\n                            <div className=\"text-xs text-muted-foreground\">\r\n                              Collection:{\" \"}\r\n                              {getCollectionName(product.collection_id)}\r\n                            </div>\r\n                          </td>\r\n\r\n                          {/* Small image thumbnail */}\r\n                          <td className=\"py-3\">\r\n                            {product.image ? (\r\n                              <img\r\n                                src={product.image}\r\n                                alt={product.name}\r\n                                className=\"h-12 w-12 rounded-md object-cover border border-border\"\r\n                              />\r\n                            ) : (\r\n                              <div className=\"h-12 w-12 rounded-md border border-dashed border-border flex items-center justify-center text-[10px] text-muted-foreground\">\r\n                                No Image\r\n                              </div>\r\n                            )}\r\n                          </td>\r\n\r\n                          {/* Category + sizes/colors */}\r\n                          <td className=\"py-3\">\r\n                            <div>{product.category ?? \"-\"}</div>\r\n                            <div className=\"text-xs text-muted-foreground\">\r\n                              Sizes: {formatValue(product.sizes)}\r\n                            </div>\r\n                            <div className=\"text-xs text-muted-foreground\">\r\n                              Colors: {formatValue(product.colors)}\r\n                            </div>\r\n                          </td>\r\n\r\n                          {/* Price + original price */}\r\n                          <td className=\"py-3 font-semibold\">\r\n                            ₹{product.price}\r\n                            {product.original_price &&\r\n                              Number(product.original_price) >\r\n                                Number(product.price) && (\r\n                                <div className=\"text-xs text-muted-foreground line-through\">\r\n                                  MRP: ₹{product.original_price}\r\n                                </div>\r\n                              )}\r\n                          </td>\r\n\r\n                          {/* Stock */}\r\n                          <td className=\"py-3\">\r\n                            <span\r\n                              className={`px-3 py-1 rounded-full text-xs font-semibold ${\r\n                                isInStock\r\n                                  ? \"bg-green-100 text-green-800\"\r\n                                  : \"bg-red-100 text-red-800\"\r\n                              }`}\r\n                            >\r\n                              {isInStock ? \"In Stock\" : \"Out of Stock\"}\r\n                            </span>\r\n                          </td>\r\n\r\n                          {/* Actions */}\r\n                          <td className=\"py-3\">\r\n                            <div className=\"flex gap-2\">\r\n                              <Button\r\n                                variant=\"ghost\"\r\n                                size=\"sm\"\r\n                                className=\"text-accent hover:bg-accent/10\"\r\n                                onClick={() => handleEditProduct(product)}\r\n                              >\r\n                                <Edit2 className=\"h-4 w-4\" />\r\n                              </Button>\r\n                              <Button\r\n                                variant=\"ghost\"\r\n                                size=\"sm\"\r\n                                className=\"text-destructive hover:bg-destructive/10\"\r\n                                onClick={() => handleDeleteProduct(product.id)}\r\n                                disabled={deletingId === product.id}\r\n                              >\r\n                                <Trash2 className=\"h-4 w-4\" />\r\n                              </Button>\r\n                            </div>\r\n                          </td>\r\n                        </tr>\r\n                      );\r\n                    })}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            </Card>\r\n          </div>\r\n        )}\r\n\r\n        {/* Orders Tab – REAL DATA + ACTION column */}\r\n        {activeTab === \"orders\" && (\r\n          <Card className=\"p-6\">\r\n            <h2 className=\"text-2xl font-bold mb-6\">All Orders</h2>\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"w-full text-sm\">\r\n                <thead className=\"border-b border-border\">\r\n                  <tr>\r\n                    <th className=\"text-left py-3 font-semibold\">Order ID</th>\r\n                    <th className=\"text-left py-3 font-semibold\">Customer</th>\r\n                    <th className=\"text-left py-3 font-semibold\">Items</th>\r\n                    <th className=\"text-left py-3 font-semibold\">Amount</th>\r\n                    <th className=\"text-left py-3 font-semibold\">Status</th>\r\n                    <th className=\"text-left py-3 font-semibold\">Date</th>\r\n                    <th className=\"text-left py-3 font-semibold\">Action</th>\r\n                  </tr>\r\n                </thead>\r\n\r\n                <tbody>\r\n                  {orders.map((order) => (\r\n                    <tr\r\n                      key={order.id}\r\n                      className=\"border-b border-border hover:bg-background/50 transition-colors\"\r\n                    >\r\n                      {/* 1. Order ID */}\r\n                      <td className=\"py-3 font-semibold whitespace-nowrap\">\r\n                        #{order.id}\r\n                      </td>\r\n\r\n                      {/* 2. Customer + Full Address */}\r\n                      <td className=\"py-3\">\r\n                        <div className=\"font-semibold text-base\">\r\n                          {order.customer_name}\r\n                        </div>\r\n                        <div className=\"text-xs text-muted-foreground\">\r\n                          {order.email}\r\n                        </div>\r\n                        <div className=\"text-xs text-muted-foreground\">\r\n                          Phone: {order.phone}\r\n                        </div>\r\n\r\n                        {/* Address */}\r\n                        <div className=\"mt-1 text-xs leading-snug text-muted-foreground\">\r\n                          {order.address}\r\n                        </div>\r\n                        <div className=\"text-xs text-muted-foreground\">\r\n                          {order.city}, {order.state} – {order.pincode}\r\n                        </div>\r\n                      </td>\r\n\r\n                      {/* 3. Items with size + color + qty */}\r\n                      <td className=\"py-3 text-xs\">\r\n                        {order.items && order.items.length > 0 ? (\r\n                          <ul className=\"space-y-1\">\r\n                            {order.items.map((item: any) => (\r\n                              <li key={item.id}>\r\n                                <span className=\"font-semibold\">\r\n                                  {item.product_name}\r\n                                </span>{\" \"}\r\n                                – Size: {item.size || \"-\"}, Color:{\" \"}\r\n                                {item.color || \"-\"}, Qty: {item.quantity}\r\n                              </li>\r\n                            ))}\r\n                          </ul>\r\n                        ) : (\r\n                          <span className=\"text-muted-foreground\">\r\n                            No items\r\n                          </span>\r\n                        )}\r\n                      </td>\r\n\r\n                      {/* 4. Amount */}\r\n                      <td className=\"py-3 font-semibold whitespace-nowrap\">\r\n                        ₹\r\n                        {Number(order.final_total || 0).toLocaleString(\r\n                          \"en-IN\"\r\n                        )}\r\n                      </td>\r\n\r\n                      {/* 5. Status badge */}\r\n                      <td className=\"py-3\">\r\n                        <span\r\n                          className={`px-3 py-1 rounded-full text-xs font-semibold ${getStatusBadgeClass(\r\n                            order.order_status\r\n                          )}`}\r\n                        >\r\n                          {order.order_status}\r\n                        </span>\r\n                      </td>\r\n\r\n                      {/* 6. Date from created_at */}\r\n                      <td className=\"py-3 whitespace-nowrap\">\r\n                        {order.created_at\r\n                          ? new Date(order.created_at).toLocaleString()\r\n                          : \"-\"}\r\n                      </td>\r\n\r\n                      {/* 7. Action → change status */}\r\n                      <td className=\"py-3\">\r\n                        <select\r\n                          value={order.order_status}\r\n                          disabled={updatingOrderId === order.id}\r\n                          onChange={(e) =>\r\n                            handleOrderStatusChange(\r\n                              order.id,\r\n                              e.target.value as OrderStatus\r\n                            )\r\n                          }\r\n                          className=\"px-2 py-1 border border-border rounded-md bg-background text-xs\"\r\n                        >\r\n                          <option value=\"pending\">Pending</option>\r\n                          <option value=\"processing\">Processing</option>\r\n                          <option value=\"delivered\">Delivered</option>\r\n                          <option value=\"cancelled\">Cancelled</option>\r\n                        </select>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n\r\n                  {orders.length === 0 && (\r\n                    <tr>\r\n                      <td\r\n                        colSpan={8}\r\n                        className=\"py-6 text-center text-muted-foreground\"\r\n                      >\r\n                        No orders found.\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </Card>\r\n        )}\r\n\r\n        {/* Customers Tab – from orders + filters + download */}\r\n        {activeTab === \"customers\" && (\r\n          <Card className=\"p-6\">\r\n            <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6\">\r\n              <h2 className=\"text-2xl font-bold\">Customer Management</h2>\r\n\r\n              <div className=\"flex flex-wrap gap-3 items-center\">\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search name / email / phone\"\r\n                  value={customerSearch}\r\n                  onChange={(e) => setCustomerSearch(e.target.value)}\r\n                  className=\"px-3 py-2 border border-border rounded-md bg-background text-sm\"\r\n                />\r\n                <input\r\n                  type=\"number\"\r\n                  min={0}\r\n                  placeholder=\"Min orders\"\r\n                  value={minOrders === 0 ? \"\" : minOrders}\r\n                  onChange={(e) =>\r\n                    setMinOrders(\r\n                      e.target.value ? Number(e.target.value) : 0\r\n                    )\r\n                  }\r\n                  className=\"w-24 px-3 py-2 border border-border rounded-md bg-background text-sm\"\r\n                />\r\n                <Button\r\n                  type=\"button\"\r\n                  variant=\"outline\"\r\n                  className=\"text-sm\"\r\n                  onClick={handleDownloadCustomers}\r\n                >\r\n                  Download Excel (CSV)\r\n                </Button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"w-full text-sm\">\r\n                <thead className=\"border-b border-border\">\r\n                  <tr>\r\n                    <th className=\"text-left py-3 font-semibold\">Name</th>\r\n                    <th className=\"text-left py-3 font-semibold\">Email</th>\r\n                    <th className=\"text-left py-3 font-semibold\">Phone</th>\r\n                    <th className=\"text-left py-3 font-semibold\">Order IDs</th>\r\n                    <th className=\"text-left py-3 font-semibold\">\r\n                      No. of Orders\r\n                    </th>\r\n                    <th className=\"text-left py-3 font-semibold\">\r\n                      Total Spent\r\n                    </th>\r\n                    <th className=\"text-left py-3 font-semibold\">\r\n                      First Order Date\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {filteredCustomers.map((c) => (\r\n                    <tr\r\n                      key={c.key}\r\n                      className=\"border-b border-border hover:bg-background/50 transition-colors\"\r\n                    >\r\n                      <td className=\"py-3 font-semibold\">{c.name}</td>\r\n                      <td className=\"py-3\">{c.email}</td>\r\n                      <td className=\"py-3 whitespace-nowrap\">{c.phone}</td>\r\n                      <td className=\"py-3\">\r\n                        {c.orderIds.map((id) => `#${id}`).join(\", \")}\r\n                      </td>\r\n                      <td className=\"py-3\">{c.ordersCount}</td>\r\n                      <td className=\"py-3 font-semibold\">\r\n                        ₹{c.totalSpent.toLocaleString(\"en-IN\")}\r\n                      </td>\r\n                      <td className=\"py-3 whitespace-nowrap\">\r\n                        {c.firstOrderDate\r\n                          ? new Date(c.firstOrderDate).toLocaleString()\r\n                          : \"-\"}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n\r\n                  {filteredCustomers.length === 0 && (\r\n                    <tr>\r\n                      <td\r\n                        colSpan={7}\r\n                        className=\"py-6 text-center text-muted-foreground\"\r\n                      >\r\n                        No customers match the filters.\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </Card>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}